<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha/css/bootstrap.min.css">
<!--     <link rel="stylesheet" type="text/css" href="/css/ajax-store.css"> -->
</head>
<body>

<h1>My Tool Store</h1>
<button id="refresh">Refresh</button>

<table class="table table-hover table-striped" id="products">
    <thead class="thead-inverse">
        <tr>
            <th>Title</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Categories</th>
        </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
(function() {
    "use strict";
    // TODO: Create an ajax GET request for /data/inventory.json
        
        function addInv (inventory){
            var content = "";
            inventory.forEach(function (inv){
                content+="<tr>";
                content+= "<td>" + inv.title + "</td>";
                content+= "<td>" + inv.quantity + "</td>";
                content+= "<td>" + "$" +inv.price + "</td>";
                content+= "<td>" + inv.categories + "</td>";
                content+="</tr>";
                
        });
            $("#insertProducts").append(content);

        }


        function ajaxRequest(){
            var url = ("/data/inventory.json");

            $.get(url).done(function(data){
                console.log("Everything went great");
                addInv(data);
            }).fail(function(){
                alert("Error");
            });
        }

        ajaxRequest();

        $("#refresh").click(function (){
            $("#insertProducts").html("");
            ajaxRequest();
        });
    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements

    
})();
</script>

</body>
</html>
